<%-include("../layout/user/header")-%>
<%-include("../partials/usernav")-%> 
<style>
    body {
    
      background-color:white;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    .container1 {
      max-width: 400px;
      margin: 50px auto;
      padding: 20px;
      background-color: #ffffff;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      border-radius: 8px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-bottom: 5px;
    
    }

    input {
      width: 100%;
      padding: 8px;
      border: 1px solid #ced4da;
     border-radius: 10px;
      box-sizing: border-box;
    }


    button {
      
      
      background-color: #007bff;
      color: #ffffff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    button:disabled {
      background-color: #6c757d;
      cursor: not-allowed;
    }

    .cancel-btn {
      background-color: #6c757d;
    }
  </style>

<div class="container1">
    <h1 class="fs-5">Forgot Password</h1>

    <form method="post" action="/forgotpass" id="passwordResetForm" class="p-3">

        <small class="text-danger text-center" id="oldpasserr"><%-locals.err?err:""-%></small><br>

        <div class="form-group">
            <label for="email">Enter Email Address:</label>
            <input type="email rounded" class="" name="email" id="email" required>
            <small class="text-danger" id="emailError"></small>
        </div>

        <div class="form-group">
          <button type="button" class="btn cancel-btn" style="background-color: white;color: blue;border: 1px solid blue;" onclick="window.location.href='/userprofile'"><small>Cancel</small></button>
            <button type="submit" class="btn" style="background-color: blue; color: white; border: 1px solid blue;" id="resetBtn" onclick="" disabled> <small>submit</small> </button>
            
        </div>
    </form>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("passwordResetForm");
        const resetButton = document.getElementById("resetBtn");

        resetButton.disabled = true;

        form.addEventListener("input", function () {
            const emailInput = document.getElementById("email");
            const emailError = document.getElementById("emailError");

            const email = emailInput.value;

            // Validate email format
            if (/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                emailError.textContent = '';
            } else {
                emailError.textContent = 'Please enter a valid email address.';
            }

            // Enable/disable submit button based on validation
            resetButton.disabled = !(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email));
        });
    });
</script>

<!-- footer start ------------ -->
<%-include("../partials/footernav")-%>
<!-- footer end ------------ -->
<%-include("../layout/user/footer")-%>

  <!-- Footer -->